<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Ethan Liu" />


<title>Project 3: Project3Package Tutorial</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Project 3: Project3Package Tutorial</h1>
<h4 class="author">Ethan Liu</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Project3Package)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the necessary package</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This package includes four fucntions: my_t.test, my_lm, my_knn_cv, and my_rf_cv. You can install it from Github using:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;yiqunl2-1863642/Project3Package&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;../Data/my_penguins.csv&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -- Column specification --------------------------------------------------------</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cols(</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   X1 = col_double(),</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   species = col_character(),</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   island = col_character(),</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bill_length_mm = col_double(),</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bill_depth_mm = col_double(),</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   flipper_length_mm = col_double(),</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   body_mass_g = col_double(),</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex = col_character(),</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   year = col_double()</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; )</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;../Code/my_rf_cv.R&quot;</span>)</span></code></pre></div>
</div>
<div id="tutorial-for-my_rf_cv" class="section level2">
<h2>Tutorial for my_rf_cv</h2>
<p><code>my_rf_cv</code> performs a random forest prediction algorithm, and then use a k fold cross validation to evaluation the prediction model. It specifically focuses on <code>my_penguins</code> data and does not work on any other data. It takes an numeric input <code>k</code> indicating the number of folds and it returns a numeric output representing the cross validation error. Below is an example of how to use it using different k including 2, 5, 10. Since random forest is a random process, we will repeat each k with 30 trials. We will also create a boxplot graphing the cv error for each k, and will also use a table to demonstrate the mean and standard deviation of each k.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize the matrix</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">30</span>, <span class="at">ncol =</span> <span class="dv">3</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>mean_err <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">3</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>std_err <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">3</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># perform the 3*30 trials of cross validation</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>)) {</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>) {</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">2</span>) {</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      m[j, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">my_rf_cv</span>(i)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      m[j, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">my_rf_cv</span>(i)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      m[j, <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">my_rf_cv</span>(i)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># records the mean error and standard deviation of errors</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  mean_err[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(m[,i])</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  std_err[i] <span class="ot">&lt;-</span> <span class="fu">sd</span>(m[,i])</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the boxplots comparing errors among different k</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">stack</span>(m),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> ind, <span class="at">y=</span>values)) <span class="sc">+</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;CV error for k = 2, 5, 10&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;k&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;cv error&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create the table of mean error and standard deviation of error</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;mean&quot;</span> <span class="ot">=</span> mean_err,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;std&quot;</span> <span class="ot">=</span> std_err</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>t</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       mean      std</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 125032.9 6235.008</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 120387.3 2269.642</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 118742.1 2133.311</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;plot.png&quot;</span>, <span class="at">path=</span><span class="st">&quot;../Output/Figures&quot;</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Saving 7 x 4 in image</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(t, <span class="at">file=</span><span class="st">&quot;../Output/Results/table.rds&quot;</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(m, <span class="at">file=</span><span class="st">&quot;../Output/Results/results.csv&quot;</span>)</span></code></pre></div>
<p>In general as k increases there is less bias towards estimating the true error of our model, but higher variance. Judging from the boxplot and the table, Both the mean error and the standard deviation of the error is decreasing as the number of folds increases. This happens because the k is relatively small and increasing it significantly improve both the bias and the variance.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
